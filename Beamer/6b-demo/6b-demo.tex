% This text is proprietary.
% It's a part of presentation made by myself.
% It may not used commercial.
% The noncommercial use such as private and study is free
% Sep. 2005 
% Author: Sascha Frank 
% University Freiburg 
% www.informatik.uni-freiburg.de/~frank/


\documentclass{beamer}
\usepackage[utf8]{inputenc}

\usepackage{graphicx}
\usepackage{pgf,tikz}
\usetikzlibrary{arrows}

\definecolor{ffccqq}{rgb}{1,0.8,0}
\definecolor{qqqqff}{rgb}{0,0,1}

\usecolortheme{whale}
\useoutertheme{split}
\usefonttheme[onlysmall]{structurebold}
\begin{document}
\title{6-inputs networks in base k}
\author[T.Stérin,N.Pinson,P-E.Polet,R.Cerda,R.Pellerin]{Tristan Stérin, Nicolas Pinson, Pierre-Etienne Polet, Rémy Cerda, Rémi Pellerin}
\institute{ENS Lyon}
\date{\today} 

%\frame{\titlepage} 

\begin{frame}
	\titlepage
	\begin{center}
	\includegraphics[height=0.5cm]{logoens.pdf}
	\end{center}
\end{frame}

\frame{\frametitle{Table of contents}\tableofcontents} 

\section{Some fancy examples}

\frame{\frametitle{3 functions in base 3}

We managed to compute 3 "interresting" functions in base 3 over DNA-nanotube network.


\begin{itemize}
\item A indicator of 1
\item A counter of 1's mod 3
\end{itemize}

}

\frame{\frametitle{Framework (recall)}

We will use the following network with 6 inputs/6 outputs.
\\
\begin{center}
\includegraphics[scale=0.2]{network}
\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=0.5cm,y=0.5cm]
	\clip(0.46,-5.46) rectangle (8.7,2.44);
		\fill[color=ffccqq,fill=ffccqq,fill opacity=0.1] (2,2) -- (7,2) -- (7,-5) -- (2,-5) -- cycle;
		\draw [color=ffccqq] (2,2)-- (7,2);
		\draw [color=ffccqq] (7,2)-- (7,-5);
		\draw [color=ffccqq] (7,-5)-- (2,-5);
		\draw [color=ffccqq] (2,-5)-- (2,2);
	\draw (1,1)-- (2,1);
	\draw (1,0)-- (2,0);
	\draw (1,-1)-- (2,-1);
	\draw (1,-2)-- (2,-2);
	\draw (1,-3)-- (2,-3);
	\draw (1,-4)-- (2,-4);
	\draw (7,-4)-- (8,-4);
	\draw (7,-3)-- (8,-3);
	\draw (7,-2)-- (8,-2);
	\draw (7,-1)-- (8,-1);
	\draw (7,0)-- (8,0);
	\draw (7,1)-- (8,1);
	\fill [color=qqqqff] (1,1) circle (1.5pt);
		\draw[color=qqqqff] (1.3,1.26) node {$i_0$};
	\fill [color=qqqqff] (1,0) circle (1.5pt);
		\draw[color=qqqqff] (1.3,0.26) node {$i_1$};
	\fill [color=qqqqff] (1,-1) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-0.74) node {$i_2$};
	\fill [color=qqqqff] (1,-2) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-1.74) node {$i_3$};
	\fill [color=qqqqff] (1,-3) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-2.74) node {$i_4$};
	\fill [color=qqqqff] (1,-4) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-3.74) node {$i_5$};
	\fill [color=qqqqff] (8,-4) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-3.74) node {$o_5$};
	\fill [color=qqqqff] (8,-3) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-2.74) node {$o_4$};
	\fill [color=qqqqff] (8,-2) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-1.74) node {$o_3$};
	\fill [color=qqqqff] (8,-1) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-0.74) node {$o_2$};
	\fill [color=qqqqff] (8,0) circle (1.5pt);
		\draw[color=qqqqff] (8.16,0.26) node {$o_1$};
	\fill [color=qqqqff] (8,1) circle (1.5pt);
		\draw[color=qqqqff] (8.16,1.26) node {$o_0$};
	\draw[color=ffccqq] (4.5,-1.34) node {\Large Network};
\end{tikzpicture}
\end{center}

}

\frame{\frametitle{The "1 indicator"}

This function outputs $o_0$ = 1 iff there some $i_j$ = 1 (others outputs are always 0).
\pause
To do it, we used these cells :
\\
\begin{center}
\includegraphics[scale=0.2]{1indicator_settings}
\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=0.5cm,y=0.5cm]
	\clip(0.46,-5.46) rectangle (15,2.44);
		\fill[color=ffccqq,fill=ffccqq,fill opacity=0.1] (2,2) -- (7,2) -- (7,-5) -- (2,-5) -- cycle;
		\draw [color=ffccqq] (2,2)-- (7,2);
		\draw [color=ffccqq] (7,2)-- (7,-5);
		\draw [color=ffccqq] (7,-5)-- (2,-5);
		\draw [color=ffccqq] (2,-5)-- (2,2);
	\draw (1,1)-- (2,1);
	\draw (1,0)-- (2,0);
	\draw (1,-1)-- (2,-1);
	\draw (1,-2)-- (2,-2);
	\draw (1,-3)-- (2,-3);
	\draw (1,-4)-- (2,-4);
	\draw (7,-4)-- (8,-4);
	\draw (7,-3)-- (8,-3);
	\draw (7,-2)-- (8,-2);
	\draw (7,-1)-- (8,-1);
	\draw (7,0)-- (8,0);
	\draw (7,1)-- (8,1);
	\fill [color=qqqqff] (1,1) circle (1.5pt);
		\draw[color=qqqqff] (1.3,1.26) node {$i_0$};
	\fill [color=qqqqff] (1,0) circle (1.5pt);
		\draw[color=qqqqff] (1.3,0.26) node {$i_1$};
	\fill [color=qqqqff] (1,-1) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-0.74) node {$i_2$};
	\fill [color=qqqqff] (1,-2) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-1.74) node {$i_3$};
	\fill [color=qqqqff] (1,-3) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-2.74) node {$i_4$};
	\fill [color=qqqqff] (1,-4) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-3.74) node {$i_5$};
	\fill [color=qqqqff] (8,-4) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-3.74) node {0};
	\fill [color=qqqqff] (8,-3) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-2.74) node {0};
	\fill [color=qqqqff] (8,-2) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-1.74) node {0};
	\fill [color=qqqqff] (8,-1) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-0.74) node {0};
	\fill [color=qqqqff] (8,0) circle (1.5pt);
		\draw[color=qqqqff] (8.16,0.26) node {0};
	\fill [color=qqqqff] (8,1) circle (1.5pt);
		\draw[color=qqqqff] (8.16,1.26) node {$o_0$};
	\draw[color=ffccqq] (4.5,-1.34) node {\Large Network};
\end{tikzpicture}

\end{center}

}

\frame{\frametitle{The counter of 1's mod 3}

This functions computes the number of ones in the input and sets $o_0$ to this number mod 3 (other outputs are always 0).

\pause

\begin{center}
\includegraphics[scale=0.2]{1counter_mod3}
\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=0.5cm,y=0.5cm]
	\clip(0.46,-5.46) rectangle (15,2.44);
		\fill[color=ffccqq,fill=ffccqq,fill opacity=0.1] (2,2) -- (7,2) -- (7,-5) -- (2,-5) -- cycle;
		\draw [color=ffccqq] (2,2)-- (7,2);
		\draw [color=ffccqq] (7,2)-- (7,-5);
		\draw [color=ffccqq] (7,-5)-- (2,-5);
		\draw [color=ffccqq] (2,-5)-- (2,2);
	\draw (1,1)-- (2,1);
	\draw (1,0)-- (2,0);
	\draw (1,-1)-- (2,-1);
	\draw (1,-2)-- (2,-2);
	\draw (1,-3)-- (2,-3);
	\draw (1,-4)-- (2,-4);
	\draw (7,-4)-- (8,-4);
	\draw (7,-3)-- (8,-3);
	\draw (7,-2)-- (8,-2);
	\draw (7,-1)-- (8,-1);
	\draw (7,0)-- (8,0);
	\draw (7,1)-- (8,1);
	\fill [color=qqqqff] (1,1) circle (1.5pt);
		\draw[color=qqqqff] (1.3,1.26) node {$i_0$};
	\fill [color=qqqqff] (1,0) circle (1.5pt);
		\draw[color=qqqqff] (1.3,0.26) node {$i_1$};
	\fill [color=qqqqff] (1,-1) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-0.74) node {$i_2$};
	\fill [color=qqqqff] (1,-2) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-1.74) node {$i_3$};
	\fill [color=qqqqff] (1,-3) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-2.74) node {$i_4$};
	\fill [color=qqqqff] (1,-4) circle (1.5pt);
		\draw[color=qqqqff] (1.3,-3.74) node {$i_5$};
	\fill [color=qqqqff] (8,-4) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-3.74) node {0};
	\fill [color=qqqqff] (8,-3) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-2.74) node {0};
	\fill [color=qqqqff] (8,-2) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-1.74) node {0};
	\fill [color=qqqqff] (8,-1) circle (1.5pt);
		\draw[color=qqqqff] (8.16,-0.74) node {0};
	\fill [color=qqqqff] (8,0) circle (1.5pt);
		\draw[color=qqqqff] (8.16,0.26) node {0};
	\fill [color=qqqqff] (8,1) circle (1.5pt);
		\draw[color=qqqqff] (8.16,1.26) node {$o_0$};
	\draw[color=ffccqq] (4.5,-1.34) node {\Large Network};
\end{tikzpicture}
\end{center}

}
\section{Problem Statement}

\frame{

\frametitle{Does a 6 bit counter exists ?} 

Can we create a \textbf{deterministic} network that will iterate over all 6 bits string -- in any order -- ?

}

\frame{
\frametitle{Does a 6 bit counter exists ?} 
\center{
\includegraphics[scale=0.7]{netk.png}
}

}


\frame{\frametitle{Can we bruteforce that problem ?}
There are $\boldsymbol{2^{44}}$ differents networks which is approximatively $17 000$ billions.\\
We could hope for an answer in a few days.\\
\textbf{But} we can drastically restrict our search space with a \textbf{few} observations.\\ \ \\

\textbf{Main idea :} we are going to bruteforce on \textbf{sub networks} and select those who respect a \textbf{necessary} condition.
} 


\frame{\frametitle{How such a network's dynamic would look like ?} 

There are only two possibilities (up to any permutation):
\rotatebox{180}{
\includegraphics[scale=0.7]{2cases.png}
}


}

\frame{\frametitle{Implication on the layer function of the network} 

The function that our counting network coumputes on one layer is either:
\begin{itemize}
\item \textbf{A bijection}
\item \textbf{An almost-bijection} $f$ i.e, $\exists ! x_0,y_0 \in \{0,1\}^6$ such that $f'$ is a bijection where:  
\begin{align*}
\forall x \neq x_0 \quad & f'(x) = f(x) \\
& f'(x_0) = y_0 \\
\end{align*}
We are going to check on both cases.
\end{itemize} 
}

\section{Computable bijections on $\{0,1\}^6$}
\subsection{4*16 property}
\frame{\frametitle{The $4*16$ property} 

If we have a bijection it will \textbf{enumerate} all strings of  
$\{0,1\}^6$. After reordordering it will look like:\\ \ \\
\includegraphics[scale=0.6]{all6b.png}

}

\frame{\frametitle{The $4*16$ property} 

Let's focus on the first two bits, we can organise our sequences this way: \\ \ \\
\includegraphics[scale=0.55]{all6b2b.png}
}
\frame{\frametitle{The $4*16$ property} 

Let get rid of the last 4 bits: \\ \ \\

\includegraphics[scale=0.45]{6b2b.png}

\ \\ 

We see that each of the 2 bits patterns:  \textbf{00, 01, 10, 11} occurs \textbf{16} times in this enumeration.\\
It's the \textbf{$\boldsymbol{4*16}$ property}.

}

\frame{\frametitle{The $4*16$ property} 

\textbf{Hence} the sub network responsible for these 2 bits must have the \textbf{4*16} property to be eligible as a being a sub network of a 6 bits bijective counter network.

}

\frame{\frametitle{The $4*16$ property} 

\rotatebox{90}{
\includegraphics[scale=0.8]{subnetk.png}
}


}

\frame{\frametitle{Compute all the $4*16$ sub networks} 

By exausthive search we find $\boldsymbol{288}$ (over $4*16*256=16384$) sub networks with this property. \\ \ \\

By removing equivalent networks we are left with \textbf{$\boldsymbol{72}$ circuits for the first 2 bits}.

}

\subsection{Combine}

\frame{\frametitle{4*16 holds for middle and ending bits}

\rotatebox{90}{
\includegraphics[scale=1.1]{subnetsk.png}
}


}

\frame{\frametitle{4*16 holds for middle and ending bits}

\begin{itemize}
\item \textbf{72} networks for the first 2 bits
\item \textbf{216} networks for the middle 2 bits
\item \textbf{72} networks for the last 2 bits
\end{itemize}

}

\subsection{Conclude}

\frame{\frametitle{How to conclude I ? Combine it !}


\textbf{Hence} by combining these we have $72*216*72 \simeq 10^6$ \\ 6 bits networks to test.

} 

\frame{\frametitle{How to conclude II ? Count orbits !}

Over all these potential networks we count $\boldsymbol{497664}$ bijections. \\
For each of these bijections we have to \textbf{count their orbits}, we have a winner \textbf{iif it has only 1 orbit}. \\ \ \\
We do not find such a network, here there's the histogram of orbits: \\

\center

\includegraphics[scale=0.46]{hist_orbits.png}

} 

\frame{\frametitle{Conclusion}
\textbf{Conclusion:} There are no bijective 6bits counters.
}


\section{Computable almost-bijections on $\{0,1\}^6$}
\subsection{2*161517 property}

\frame{\frametitle{2*161517 property}

If we have an almost-bijection \textbf{all 6 bits sequences will be reached by our network but one}.\\ \ \\
Also one bit string will be reached \textbf{twice}. \\ \ \\
It means that \textbf{at least one} of our sub network will see:
\begin{itemize}
\item 2 patterns \textbf{16} times
\item 1 pattern \textbf{15} times
\item 1 pattern \textbf{17} times
\end{itemize}
}

\frame{\frametitle{2*161517 property}

We call this the \textbf{2*161517 property}.

}
\subsection{Conclusion}
\frame{\frametitle{2*161517 does not occur !}

By enumeration, \textbf{there exist no sub network with the 2*161517} property. \\
\textbf{Hence}, we cannot hope for an \textbf{almost-bijective counter}.

}

\section{Conclusion}
\frame{\frametitle{No 6bit counter network :'( }

By case distinction, \textbf{there's no 6bit counter network}.
\\ \
But there are \textbf{0 to 62} counters and this kind of methods helps to exhibit \textbf{at least 24}.
}

\frame{\frametitle{Sources ? }

All our sources for these computations are available here: \\ \ \\
\url{https://github.com/cosmo-sterin/ER_MolProg_Project2/tree/master/circuit_sim}
}

\end{document}
